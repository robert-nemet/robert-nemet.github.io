<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Practical k8s: Pods | DevCube</title><meta name=keywords content="k8s,kubernetes,basics,pod"><meta name=description content="A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly. Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create Pods for you.
Here I&rsquo;m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc."><meta name=author content="rnemet"><link rel=canonical href=https://rnemet.dev/posts/practical_k8s/pods/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rnemet.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rnemet.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rnemet.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://rnemet.dev/apple-touch-icon.png><link rel=mask-icon href=https://rnemet.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-L148RQBR36"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L148RQBR36",{anonymize_ip:!1})}</script><meta property="og:title" content="Practical k8s: Pods"><meta property="og:description" content="A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly. Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create Pods for you.
Here I&rsquo;m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc."><meta property="og:type" content="article"><meta property="og:url" content="https://rnemet.dev/posts/practical_k8s/pods/"><meta property="og:image" content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-24T20:46:44+02:00"><meta property="article:modified_time" content="2022-10-24T20:46:44+02:00"><meta property="og:site_name" content="DevCube"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta name=twitter:title content="Practical k8s: Pods"><meta name=twitter:description content="A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly. Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create Pods for you.
Here I&rsquo;m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rnemet.dev/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://rnemet.dev/posts/practical_k8s/"},{"@type":"ListItem","position":3,"name":"Practical k8s: Pods","item":"https://rnemet.dev/posts/practical_k8s/pods/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Practical k8s: Pods","name":"Practical k8s: Pods","description":"A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly. Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create Pods for you.\nHere I\u0026rsquo;m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc.","keywords":["k8s","kubernetes","basics","pod"],"articleBody":"A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly. Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create Pods for you.\nHere I’m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc.\nIf you don’t have access to other K8s clusters where you can execute these examples, go to my quick intro to k3d. I assume that you already know what kubectl is, and you have it installed.\nAll these examples are run locally with kind. To add resources to the cluster run:\n#!bin/sh # kubectl create ns apps kubectl create ns dbs kubectl create ns workers kubectl create ns kafka kubectl create deployment -n apps nginx --image nginx:stable-alpine kubectl create deployment -n workers nginx --image nginx:stablex-alpine kubectl create deployment -n dbs postgres --image postgres:15.2-alpine Find/List/Filter pods You are looking for a Pod. All you know is an application name that is running in a Pod. How do you find it? As already mentioned, Pods are usually created by higher-level constructs. And usually, they are named by an application that they are running. If that is the case pods will include the application name in their name. One way would be:\n\u003e kubectl get pods -A | grep For example:\n❯ kubectl get pods -A | grep nginx apps nginx-9dc8cc55b-9lcpg 1/1 Running 0 2m52s workers nginx-7f685bb9bb-4wh6p 0/1 ImagePullBackOff 0 100s Command kubectl get pods would search for Pods in the current namespace. If you want to search in all namespaces use -A flag. The output needs to be filtered by grep to find the Pod that you are looking for. In this case, Pods are running in apps and workers namespaces. To see the default namespace use kubectl config get-contexts command:\n❯ kubectl config get-contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE cloud-run-dev-internal cloud-run-dev-internal cloud-run-dev-internal default dev dev bgates default * kind-kind-test-cluster kind-kind-test-cluster kind-kind-test-cluster If you follow the best practices for labeling resources you can get search for Pods by labels. In these examples I’m using the app label:\n\u003e kubectl get pods -l app= For example:\n❯ kubectl get pods -A -l app=nginx NAMESPACE NAME READY STATUS RESTARTS AGE apps nginx-9dc8cc55b-9lcpg 1/1 Running 0 19m workers nginx-7f685bb9bb-4wh6p 0/1 ImagePullBackOff 0 18m Of course, Pods can have different labels that can be used for searching.\nGet additional informations about a Pod/Debug Pods To learn more about a Pod you can get its manifest with kubectl get pod -o yaml command. I find this rather unpractical so I use kubectl describe pod command. It gives me more information about a Pod in a human-readable format:\n❯ kubectl describe pod -n apps nginx-9dc8cc55b-9lcpg Name: nginx-9dc8cc55b-9lcpg Namespace: apps Priority: 0 Service Account: default Node: kind-test-cluster-worker/172.18.0.2 Start Time: Sat, 25 Feb 2023 18:29:08 +0100 Labels: app=nginx pod-template-hash=9dc8cc55b Annotations: Status: Running IP: 10.244.1.3 IPs: IP: 10.244.1.3 Controlled By: ReplicaSet/nginx-9dc8cc55b Containers: nginx: Container ID: containerd://4a09db88bcc07dcaab7f5cef4277cb7695cdeff63524e0b037cde8cb1f03eaa2 Image: nginx:stable-alpine [...snip...] Node-Selectors: Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 24m default-scheduler Successfully assigned apps/nginx-9dc8cc55b-9lcpg to kind-test-cluster-worker Normal Pulled 24m kubelet Container image \"nginx:stable-alpine\" already present on machine Normal Created 24m kubelet Created container nginx Normal Started 24m kubelet Started container nginx Sometimes your pods can not start. So you do not have logs to check. Usually, these are cases when Pods are in CrashLoopBackOff or ImagePullBackOff state. Then describe a Pod and look under the Events section. It will give you information about what is going on. For example:\n❯ kubectl get pods -A -l app=nginx NAMESPACE NAME READY STATUS RESTARTS AGE apps nginx-9dc8cc55b-9lcpg 1/1 Running 0 43m workers nginx-7f685bb9bb-4wh6p 0/1 ImagePullBackOff 0 42m Why is nginx-7f685bb9bb-4wh6p in ImagePullBackOff state? Let’s check:\n❯ kubectl describe pods -n workers nginx-7f685bb9bb-4wh6p Name: nginx-7f685bb9bb-4wh6p Namespace: workers Priority: 0 Service Account: default [...snip...] Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 42m default-scheduler Successfully assigned workers/nginx-7f685bb9bb-4wh6p to kind-test-cluster-worker2 Normal Pulling 41m (x4 over 42m) kubelet Pulling image \"nginx:stablex-alpine\" Warning Failed 41m (x4 over 42m) kubelet Failed to pull image \"nginx:stablex-alpine\": rpc error: code = NotFound desc = failed to pull and unpack image \"docker.io/library/nginx:stablex-alpine\": failed to resolve reference \"docker.io/library/nginx:stablex-alpine\": docker.io/library/nginx:stablex-alpine: not found Warning Failed 41m (x4 over 42m) kubelet Error: ErrImagePull Warning Failed 40m (x6 over 42m) kubelet Error: ImagePullBackOff Normal BackOff 2m40s (x172 over 42m) kubelet Back-off pulling image \"nginx:stablex-alpine\" As you can see the image nginx:stablex-alpine does not exist. That is why the Pod can not start.\nGet logs To get logs from a Pod you can use kubectl logs command. It will give you logs from all containers in Pod. If you want to get logs from a specific container inside a Pod you can use -c flag. For example:\n❯ kubectl logs -n apps nginx-9dc8cc55b-9lcpg -c nginx /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/ /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh /docker-entrypoint.sh: Configuration complete; ready for start up 2023/02/25 17:29:09 [notice] 1#1: using the \"epoll\" event method 2023/02/25 17:29:09 [notice] 1#1: nginx/1.22.1 2023/02/25 17:29:09 [notice] 1#1: built by gcc 11.2.1 20220219 (Alpine 11.2.1_git20220219) 2023/02/25 17:29:09 [notice] 1#1: OS: Linux 5.15.49-linuxkit 2023/02/25 17:29:09 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576 2023/02/25 17:29:09 [notice] 1#1: start worker processes 2023/02/25 17:29:09 [notice] 1#1: start worker process 33 2023/02/25 17:29:09 [notice] 1#1: start worker process 34 2023/02/25 17:29:09 [notice] 1#1: start worker process 35 2023/02/25 17:29:09 [notice] 1#1: start worker process 36 It will output logs on stdout. If you do not want to repeat this command all the time you can use -f flag to follow logs. Then when ever new logs are added to the Pod you will see them in your console.\nExecute a command in a Pod/Open shell in a Pod Sometimes you need to execute a command in a Pod. Like to see all environment variables, so you do something like kubectl exec -- :\n❯ kubectl exec -n apps nginx-9dc8cc55b-9lcpg -- env PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=nginx-9dc8cc55b-9lcpg NGINX_VERSION=1.22.1 NJS_VERSION=0.7.7 PKG_RELEASE=1 KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 KUBERNETES_SERVICE_HOST=10.96.0.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://10.96.0.1:443 KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 HOME=/root But if you want to open a shell in a Pod and interact with it you can use kubectl exec -it -- command. For example:\n❯ kubectl exec -n apps nginx-9dc8cc55b-9lcpg -it -- sh / # Close shell with exit command or Ctrl+D.\n","wordCount":"1117","inLanguage":"en","image":"https://rnemet.dev/%3Cimage%20path/url%3E","datePublished":"2022-10-24T20:46:44+02:00","dateModified":"2022-10-24T20:46:44+02:00","author":{"@type":"Person","name":"rnemet"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rnemet.dev/posts/practical_k8s/pods/"},"publisher":{"@type":"Organization","name":"DevCube","logo":{"@type":"ImageObject","url":"https://rnemet.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rnemet.dev/ accesskey=h title="Home (Alt + H)"><img src=https://rnemet.dev/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rnemet.dev/posts/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://rnemet.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://rnemet.dev/posts/practical_k8s/ title="Practical k8s"><span>Practical k8s</span></a></li><li><a href=https://rnemet.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rnemet.dev/about/ title="About Me"><span>About Me</span></a></li><li><a href=https://rnemet.dev/ title><span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Practical k8s: Pods</h1><div class=post-description></div><div class=post-meta><span title='2022-10-24 20:46:44 +0200 CEST'>October 24, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;rnemet</div></header><figure class=entry-cover><img loading=lazy src=https://rnemet.dev/%3Cimage%20path/url%3E alt><p></p></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#findlistfilter-pods aria-label="Find/List/Filter pods">Find/List/Filter pods</a></li><li><a href=#get-additional-informations-about-a-poddebug-pods aria-label="Get additional informations about a Pod/Debug Pods">Get additional informations about a Pod/Debug Pods</a></li><li><a href=#get-logs aria-label="Get logs">Get logs</a></li><li><a href=#execute-a-command-in-a-podopen-shell-in-a-pod aria-label="Execute a command in a Pod/Open shell in a Pod">Execute a command in a Pod/Open shell in a Pod</a></li></ul></div></details></div><div class=post-content><p>A Pod would be the smallest deployable unit one can create and manage inside Kubernetes(K8s). In practice, rarely you create a Pod directly.
Instead, one would create a Deployment, a StatefulSet, a DaemonSet, a Job, or a CronJob. These are higher-level constructs that would create
Pods for you.</p><p>Here I&rsquo;m covering common tasks that one would do with a Pod in daily work, like getting logs, opening a shell inside a container, debugging a Pod, etc.</p><p>If you don&rsquo;t have access to other K8s clusters where you can execute these examples, go to my <a href=../../k3d>quick intro to k3d</a>. I assume that you
already know what <code>kubectl</code> is, and you have it installed.</p><p>All these examples are run locally with <a href=https://kind.sigs.k8s.io/>kind</a>. To add resources to the cluster run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!bin/sh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>kubectl create ns apps
</span></span><span style=display:flex><span>kubectl create ns dbs
</span></span><span style=display:flex><span>kubectl create ns workers
</span></span><span style=display:flex><span>kubectl create ns kafka
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl create deployment -n apps nginx --image nginx:stable-alpine
</span></span><span style=display:flex><span>kubectl create deployment -n workers  nginx --image nginx:stablex-alpine
</span></span><span style=display:flex><span>kubectl create deployment -n dbs postgres --image postgres:15.2-alpine
</span></span></code></pre></div><h2 id=findlistfilter-pods>Find/List/Filter pods<a hidden class=anchor aria-hidden=true href=#findlistfilter-pods>#</a></h2><p>You are looking for a Pod. All you know is an application name that is running in a Pod. How do you find it?
As already mentioned, Pods are usually created by higher-level constructs. And usually, they are named by an application that they are running. If
that is the case pods will include the application name in their name. One way would be:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl get pods -A | grep &lt;application-name&gt;
</span></span></code></pre></div><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl get pods -A | grep nginx
</span></span><span style=display:flex><span>apps                 nginx-9dc8cc55b-9lcpg                                     1/1     Running            0          2m52s
</span></span><span style=display:flex><span>workers              nginx-7f685bb9bb-4wh6p                                    0/1     ImagePullBackOff   0          100s
</span></span></code></pre></div><p>Command <code>kubectl get pods</code> would search for Pods in the current namespace. If you want to search in all namespaces use <code>-A</code> flag. The output needs
to be filtered by <code>grep</code> to find the Pod that you are looking for. In this case, Pods are running in <code>apps</code> and <code>workers</code> namespaces. To see the
default namespace use <code>kubectl config get-contexts</code> command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl config get-contexts
</span></span><span style=display:flex><span>CURRENT   NAME                                                          CLUSTER                                                       AUTHINFO                                                      NAMESPACE
</span></span><span style=display:flex><span>          cloud-run-dev-internal                                        cloud-run-dev-internal                                        cloud-run-dev-internal                                        default
</span></span><span style=display:flex><span>          dev                                                           dev                                                           bgates                                                        default
</span></span><span style=display:flex><span>*         kind-kind-test-cluster                                        kind-kind-test-cluster                                        kind-kind-test-cluster
</span></span></code></pre></div><p>If you follow <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/#labels>the best practices for labeling resources</a>
you can get search for Pods by labels. In these examples I&rsquo;m using the <code>app</code> label:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl get pods -l app<span style=color:#f92672>=</span>&lt;app-name&gt;
</span></span></code></pre></div><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl get pods -A -l app=nginx
</span></span><span style=display:flex><span>NAMESPACE   NAME                     READY   STATUS             RESTARTS   AGE
</span></span><span style=display:flex><span>apps        nginx-9dc8cc55b-9lcpg    1/1     Running            0          19m
</span></span><span style=display:flex><span>workers     nginx-7f685bb9bb-4wh6p   0/1     ImagePullBackOff   0          18m
</span></span></code></pre></div><p>Of course, Pods can have different labels that can be used for searching.</p><h2 id=get-additional-informations-about-a-poddebug-pods>Get additional informations about a Pod/Debug Pods<a hidden class=anchor aria-hidden=true href=#get-additional-informations-about-a-poddebug-pods>#</a></h2><p>To learn more about a Pod you can get its manifest with <code>kubectl get pod &lt;pod-name> -o yaml</code> command. I find this rather unpractical so I use
<code>kubectl describe pod &lt;pod-name></code> command. It gives me more information about a Pod in a human-readable format:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl describe pod -n apps nginx-9dc8cc55b-9lcpg
</span></span><span style=display:flex><span>Name:             nginx-9dc8cc55b-9lcpg
</span></span><span style=display:flex><span>Namespace:        apps
</span></span><span style=display:flex><span>Priority:         0
</span></span><span style=display:flex><span>Service Account:  default
</span></span><span style=display:flex><span>Node:             kind-test-cluster-worker/172.18.0.2
</span></span><span style=display:flex><span>Start Time:       Sat, 25 Feb 2023 18:29:08 +0100
</span></span><span style=display:flex><span>Labels:           app=nginx
</span></span><span style=display:flex><span>                  pod-template-hash=9dc8cc55b
</span></span><span style=display:flex><span>Annotations:      &lt;none&gt;
</span></span><span style=display:flex><span>Status:           Running
</span></span><span style=display:flex><span>IP:               10.244.1.3
</span></span><span style=display:flex><span>IPs:
</span></span><span style=display:flex><span>  IP:           10.244.1.3
</span></span><span style=display:flex><span>Controlled By:  ReplicaSet/nginx-9dc8cc55b
</span></span><span style=display:flex><span>Containers:
</span></span><span style=display:flex><span>  nginx:
</span></span><span style=display:flex><span>    Container ID:   containerd://4a09db88bcc07dcaab7f5cef4277cb7695cdeff63524e0b037cde8cb1f03eaa2
</span></span><span style=display:flex><span>    Image:          nginx:stable-alpine
</span></span><span style=display:flex><span>[...snip...]
</span></span><span style=display:flex><span>Node-Selectors:              &lt;none&gt;
</span></span><span style=display:flex><span>Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
</span></span><span style=display:flex><span>                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
</span></span><span style=display:flex><span>Events:
</span></span><span style=display:flex><span>  Type    Reason     Age   From               Message
</span></span><span style=display:flex><span>  ----    ------     ----  ----               -------
</span></span><span style=display:flex><span>  Normal  Scheduled  24m   default-scheduler  Successfully assigned apps/nginx-9dc8cc55b-9lcpg to kind-test-cluster-worker
</span></span><span style=display:flex><span>  Normal  Pulled     24m   kubelet            Container image &#34;nginx:stable-alpine&#34; already present on machine
</span></span><span style=display:flex><span>  Normal  Created    24m   kubelet            Created container nginx
</span></span><span style=display:flex><span>  Normal  Started    24m   kubelet            Started container nginx
</span></span></code></pre></div><p>Sometimes your pods can not start. So you do not have logs to check. Usually, these are cases when Pods are in <em>CrashLoopBackOff</em> or
<em>ImagePullBackOff</em> state. Then describe a Pod and look under the <code>Events</code> section. It will give you information about what is going on.
For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl get pods -A -l app=nginx
</span></span><span style=display:flex><span>NAMESPACE   NAME                     READY   STATUS             RESTARTS   AGE
</span></span><span style=display:flex><span>apps        nginx-9dc8cc55b-9lcpg    1/1     Running            0          43m
</span></span><span style=display:flex><span>workers     nginx-7f685bb9bb-4wh6p   0/1     ImagePullBackOff   0          42m
</span></span></code></pre></div><p>Why is <code>nginx-7f685bb9bb-4wh6p</code> in <code>ImagePullBackOff</code> state? Let&rsquo;s check:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl describe pods -n workers nginx-7f685bb9bb-4wh6p
</span></span><span style=display:flex><span>Name:             nginx-7f685bb9bb-4wh6p
</span></span><span style=display:flex><span>Namespace:        workers
</span></span><span style=display:flex><span>Priority:         0
</span></span><span style=display:flex><span>Service Account:  default
</span></span><span style=display:flex><span>[...snip...]
</span></span><span style=display:flex><span>Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
</span></span><span style=display:flex><span>                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
</span></span><span style=display:flex><span>Events:
</span></span><span style=display:flex><span>  Type     Reason     Age                    From               Message
</span></span><span style=display:flex><span>  ----     ------     ----                   ----               -------
</span></span><span style=display:flex><span>  Normal   Scheduled  42m                    default-scheduler  Successfully assigned workers/nginx-7f685bb9bb-4wh6p to kind-test-cluster-worker2
</span></span><span style=display:flex><span>  Normal   Pulling    41m (x4 over 42m)      kubelet            Pulling image &#34;nginx:stablex-alpine&#34;
</span></span><span style=display:flex><span>  Warning  Failed     41m (x4 over 42m)      kubelet            Failed to pull image &#34;nginx:stablex-alpine&#34;: rpc error: code = NotFound desc = failed to pull and unpack image &#34;docker.io/library/nginx:stablex-alpine&#34;: failed to resolve reference &#34;docker.io/library/nginx:stablex-alpine&#34;: docker.io/library/nginx:stablex-alpine: not found
</span></span><span style=display:flex><span>  Warning  Failed     41m (x4 over 42m)      kubelet            Error: ErrImagePull
</span></span><span style=display:flex><span>  Warning  Failed     40m (x6 over 42m)      kubelet            Error: ImagePullBackOff
</span></span><span style=display:flex><span>  Normal   BackOff    2m40s (x172 over 42m)  kubelet            Back-off pulling image &#34;nginx:stablex-alpine&#34;
</span></span></code></pre></div><p>As you can see the image <code>nginx:stablex-alpine</code> does not exist. That is why the Pod can not start.</p><h2 id=get-logs>Get logs<a hidden class=anchor aria-hidden=true href=#get-logs>#</a></h2><p>To get logs from a Pod you can use <code>kubectl logs &lt;pod-name></code> command. It will give you logs from all containers in Pod. If you
want to get logs from a specific container inside a Pod you can use <code>-c &lt;container-name></code> flag. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl logs -n apps nginx-9dc8cc55b-9lcpg -c nginx
</span></span><span style=display:flex><span>/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
</span></span><span style=display:flex><span>/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
</span></span><span style=display:flex><span>/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
</span></span><span style=display:flex><span>10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
</span></span><span style=display:flex><span>10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
</span></span><span style=display:flex><span>/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
</span></span><span style=display:flex><span>/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
</span></span><span style=display:flex><span>/docker-entrypoint.sh: Configuration complete; ready for start up
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: using the &#34;epoll&#34; event method
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: nginx/1.22.1
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: built by gcc 11.2.1 20220219 (Alpine 11.2.1_git20220219)
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: OS: Linux 5.15.49-linuxkit
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: start worker processes
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: start worker process 33
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: start worker process 34
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: start worker process 35
</span></span><span style=display:flex><span>2023/02/25 17:29:09 [notice] 1#1: start worker process 36
</span></span></code></pre></div><p>It will output logs on stdout. If you do not want to repeat this command all the time you can use <code>-f</code> flag to follow logs. Then
when ever new logs are added to the Pod you will see them in your console.</p><h2 id=execute-a-command-in-a-podopen-shell-in-a-pod>Execute a command in a Pod/Open shell in a Pod<a hidden class=anchor aria-hidden=true href=#execute-a-command-in-a-podopen-shell-in-a-pod>#</a></h2><p>Sometimes you need to execute a command in a Pod. Like to see all environment variables, so you do something like <code>kubectl exec &lt;pod-name> -- &lt;command></code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl exec -n apps nginx-9dc8cc55b-9lcpg -- env
</span></span><span style=display:flex><span>PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
</span></span><span style=display:flex><span>HOSTNAME=nginx-9dc8cc55b-9lcpg
</span></span><span style=display:flex><span>NGINX_VERSION=1.22.1
</span></span><span style=display:flex><span>NJS_VERSION=0.7.7
</span></span><span style=display:flex><span>PKG_RELEASE=1
</span></span><span style=display:flex><span>KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
</span></span><span style=display:flex><span>KUBERNETES_SERVICE_HOST=10.96.0.1
</span></span><span style=display:flex><span>KUBERNETES_SERVICE_PORT=443
</span></span><span style=display:flex><span>KUBERNETES_SERVICE_PORT_HTTPS=443
</span></span><span style=display:flex><span>KUBERNETES_PORT=tcp://10.96.0.1:443
</span></span><span style=display:flex><span>KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
</span></span><span style=display:flex><span>KUBERNETES_PORT_443_TCP_PROTO=tcp
</span></span><span style=display:flex><span>KUBERNETES_PORT_443_TCP_PORT=443
</span></span><span style=display:flex><span>HOME=/root
</span></span></code></pre></div><p>But if you want to open a shell in a Pod and interact with it you can use <code>kubectl exec -it &lt;pod-name> -- &lt;command></code> command. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>❯ kubectl exec -n apps nginx-9dc8cc55b-9lcpg -it -- sh
</span></span><span style=display:flex><span>/ #
</span></span></code></pre></div><p>Close shell with <code>exit</code> command or <code>Ctrl+D</code>.</p><div class=subscribe><iframe src=https://rnemet.substack.com/embed width=480 height=320 style="border:1px solid #eee;background:#fff;margin:auto;display:block" frameborder=0 scrolling=no></iframe></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://rnemet.dev/tags/k8s/>k8s</a></li><li><a href=https://rnemet.dev/tags/kubernetes/>kubernetes</a></li><li><a href=https://rnemet.dev/tags/basics/>basics</a></li><li><a href=https://rnemet.dev/tags/pod/>pod</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on twitter" href="https://twitter.com/intent/tweet/?text=Practical%20k8s%3a%20Pods&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f&amp;hashtags=k8s%2ckubernetes%2cbasics%2cpod"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f&amp;title=Practical%20k8s%3a%20Pods&amp;summary=Practical%20k8s%3a%20Pods&amp;source=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on reddit" href="https://reddit.com/submit?url=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f&title=Practical%20k8s%3a%20Pods"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on whatsapp" href="https://api.whatsapp.com/send?text=Practical%20k8s%3a%20Pods%20-%20https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Practical k8s: Pods on telegram" href="https://telegram.me/share/url?text=Practical%20k8s%3a%20Pods&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fpractical_k8s%2fpods%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://rnemet.dev/>DevCube</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>