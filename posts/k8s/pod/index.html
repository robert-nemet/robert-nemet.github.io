<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pod | DevCube</title><meta name=keywords content="k8s,kubernetes,k8s-basics,pod"><meta name=description content="..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.
What is a container? A container image is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc. When you run a container image it becomes container. You can imagine a container image as a software-package but when you run it becomes container."><meta name=author content="rnemet"><link rel=canonical href=https://rnemet.dev/posts/k8s/pod/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=preload href=/apple-touch-icon.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rnemet.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rnemet.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rnemet.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://rnemet.dev/apple-touch-icon.png><link rel=mask-icon href=https://rnemet.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.102.3"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-L148RQBR36"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L148RQBR36",{anonymize_ip:!1})}</script><meta property="og:title" content="Pod"><meta property="og:description" content="..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.
What is a container? A container image is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc. When you run a container image it becomes container. You can imagine a container image as a software-package but when you run it becomes container."><meta property="og:type" content="article"><meta property="og:url" content="https://rnemet.dev/posts/k8s/pod/"><meta property="og:image" content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-21T10:17:02+01:00"><meta property="article:modified_time" content="2021-03-21T10:17:02+01:00"><meta property="og:site_name" content="DevCube"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta name=twitter:title content="Pod"><meta name=twitter:description content="..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.
What is a container? A container image is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc. When you run a container image it becomes container. You can imagine a container image as a software-package but when you run it becomes container."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rnemet.dev/posts/"},{"@type":"ListItem","position":2,"name":"Pod","item":"https://rnemet.dev/posts/k8s/pod/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Pod","name":"Pod","description":"..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.\nWhat is a container? A container image is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc. When you run a container image it becomes container. You can imagine a container image as a software-package but when you run it becomes container.","keywords":["k8s","kubernetes","k8s-basics","pod"],"articleBody":"..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.\nWhat is a container? A container image is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc. When you run a container image it becomes container. You can imagine a container image as a software-package but when you run it becomes container.\nWhy there is a difference? A container image can be changed. While a container is immutable, meaning that you can not change it once you create it. If there is a new version of a container image, the only way to apply those changes to the container is to destroy the old one and start new.\nThe container runtime is the software responsible for running containers. K8s supports any container runtime that implements Kubernetes CRI (Container Runtime Interface) like Docker, containerd, CRI-O.\nWhat is a Pod? As already mentioned a Pod is the smallest deployable unit in K8s. It is as well a set of containers. That set can have one or more containers bound by some logic.\nWhat a Pod does? You can think of a Pod as a single machine, a host. It is not that but you can imagine it like that. A Pod has:\na unique IP address persistent storage volumes(optional, if required) configuration, which defines how container(s) should be run From K8s point, a Pod is a process running in a cluster. That process has a unique IP address so other processes(Pods) can communicate with it. On the other hand containers in a Pod share the same IP address. This means if they want to communicate with outside they are using unique ports. So, no two containers are on the same port.\nInter container communication in the same Pod goes over localhost. If there is attached persistent storage volume that can be used as a means of communication as well.\nBasic operations with a Pod I’m running these examples on the local cluster based on the k3d. If you do not have access to other K8s clusters where you can execute these examples, go to my quick intro to k3d.\nBasic Pod configuration Let’s start by running:\n\u003e kubectl run nginx-ser --image nginx --restart=Never --dry-run=client -o yaml With this kubectl command you say that you want the Pod named nginx-ser made from nginx image(in this case, default, it is Docker image). Other flags --dry-run prevents its deployment, and -o specify output to be YAML format. The result should be something like this:\napiVersion: v1 kind: Pod metadata: creationTimestamp: null labels: run: nginx-ser name: nginx-ser spec: containers: - image: nginx name: nginx-ser resources: {} dnsPolicy: ClusterFirst restartPolicy: Always status: {} Lets dump this into file:\n\u003e kubectl run nginx-ser --image nginx --restart=Never --dry-run=client -o yaml \u003e pod.yaml Open this file pod.yaml any editor you like and remove unneeded lines so it looks like:\napiVersion: v1 kind: Pod metadata: labels: run: nginx-ser name: nginx-ser spec: containers: - image: nginx name: nginx-ser To create a Pod run:\n\u003e kubectl apply -f pod.yaml If you look inside pod.yaml file you’ll see a basic Pod configuration:\napiVersion: tells which version of K8s API to use kind: what K8s resource to operate with metadata: these are labels and annotations. You use them to organize your Pods spec: a Pod configuration specification where containers is defined Under spec.containers you put an array of container definitions. Each container definition should have at least name. The image property is not required as it can be defaulted or managed by higher config management. In my case, I’m using Docker runtime so it is a docker image. This docker image is pulled from Docker Hub.\nInspect a Pod You can check the status of a Pod:\n❯ kubectl get pods NAME READY STATUS RESTARTS AGE nginx-ser 1/1 Running 0 14m Here you see a Pod:\nname ready status: is pod healthy and if it is ready to receive status status number of restarts age You can get more information if you add the option -o wide:\n❯ kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES nginx-ser 1/1 Running 0 6h4m 10.42.0.22 k3d-private-cluster-server-0 In this example, you see internal IP, IP number inside a cluster, and a node name where Pod is scheduled.\nYou get a YAML definition of a Pod if you do:\n❯ kubectl get pods -o yaml This could be quite verbose so redirect it some file and open it in an editor. Specifying output option -o you can set the format of output, where most interesting and used are wide, yaml and json.\nA good way to see a Pod is to describe it:\n❯ kubectl describe pods nginx-ser Name: nginx-ser Namespace: default Priority: 0 Node: k3d-private-cluster-server-0/172.19.0.2 Start Time: Sun, 21 Mar 2021 12:42:17 +0100 Labels: run=nginx-ser Annotations: Status: Running IP: 10.42.0.22 IPs: IP: 10.42.0.22 Containers: nginx-ser: Container ID: containerd://34b8f75b1f3b3ad891791198409cf25412e6bbc18468a2706aa441ee9001a41c Image: nginx Image ID: docker.io/library/nginx@sha256:d2925188effb4ddca9f14f162d6fba9b5fab232028aa07ae5c1dab764dca8f9f Port: Host Port: State: Running Started: Sun, 21 Mar 2021 12:42:19 +0100 Ready: True Restart Count: 0 Environment: Mounts: /var/run/secrets/kubernetes.io/serviceaccount from default-token-j6lht (ro) Conditions: Type Status Initialized True Ready True ContainersReady True PodScheduled True Volumes: default-token-j6lht: Type: Secret (a volume populated by a Secret) SecretName: default-token-j6lht Optional: false QoS Class: BestEffort Node-Selectors: Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: You can check container logs:\nkubectl logs nginx-ser Modifying a Pod To modify a Pod you need to modify its specification. Either you get a Pod as YAML file and modify it:\n\u003e kubectl get pod nginx-ser \u003e nginx-ser.yaml Then open file nginx-ser.yaml and modify it. Then apply it again:\n\u003e kubectl apply -f nginx-ser.yaml Or edit it directly inside K8s:\n\u003e kubectl edit pods nginx-ser This will open Pod’s YAML configuration inside the vi editor. Once you save your modifications and exit the editor your changes will be applied.\nDelete a Pod Just do:\n\u003e kubectl delete pod nginx-ser Hands-On Let’s try to access to running nginx server on deployed Pod. At the moment this Pos is not visible outside. That means you can access it only inside a K8s cluster. One way is to run temporary with curl command:\n❯ kubectl run curl --image curlimages/curl --restart=Never -it --rm -- curl http:// \u003c!DOCTYPE html\u003e Welcome to nginx! Welcome to nginx! If you see this page, the nginx web server is successfully installed and working. Further configuration is required.\nFor online documentation and support please refer to ","wordCount":"1220","inLanguage":"en","image":"https://rnemet.dev/%3Cimage%20path/url%3E","datePublished":"2021-03-21T10:17:02+01:00","dateModified":"2021-03-21T10:17:02+01:00","author":{"@type":"Person","name":"rnemet"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rnemet.dev/posts/k8s/pod/"},"publisher":{"@type":"Organization","name":"DevCube","logo":{"@type":"ImageObject","url":"https://rnemet.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rnemet.dev/ accesskey=h title="Home (Alt + H)"><img src=https://rnemet.dev/apple-touch-icon.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://rnemet.dev/posts/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://rnemet.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://rnemet.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rnemet.dev/about/ title="About Me"><span>About Me</span></a></li><li><a href=https://rnemet.dev/ title><span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Pod</h1><div class=post-description></div><div class=post-meta><span title='2021-03-21 10:17:02 +0100 CET'>March 21, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;rnemet</div></header><figure class=entry-cover><img loading=lazy src=https://rnemet.dev/%3Cimage%20path/url%3E alt><p></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-is-a-container aria-label="What is a container?">What is a container?</a></li><li><a href=#what-is-a-pod aria-label="What is a Pod?">What is a Pod?</a></li><li><a href=#what-a-pod-does aria-label="What a Pod does?">What a Pod does?</a></li><li><a href=#basic-operations-with-a-pod aria-label="Basic operations with a Pod">Basic operations with a Pod</a><ul><li><a href=#basic-pod-configuration aria-label="Basic Pod configuration">Basic Pod configuration</a></li><li><a href=#inspect-a-pod aria-label="Inspect a Pod">Inspect a Pod</a></li><li><a href=#modifying-a-pod aria-label="Modifying a Pod">Modifying a Pod</a></li><li><a href=#delete-a-pod aria-label="Delete a Pod">Delete a Pod</a></li></ul></li><li><a href=#hands-on aria-label=Hands-On>Hands-On</a></li></ul></div></details></div><div class=post-content><p>..is the smallest deployable unit one can create and manage inside Kubernetes(K8s). A Pod can have one or more running containers, so it is a set of running containers.</p><h2 id=what-is-a-container>What is a container?<a hidden class=anchor aria-hidden=true href=#what-is-a-container>#</a></h2><p><strong>A container image</strong> is a binary containing an application you created and all that needs for its running like system and application libraries, configuration files, etc.
When you run <strong>a container image</strong> it becomes <strong>container</strong>. You can imagine <strong>a container image</strong> as a software-package but when you run it becomes <strong>container</strong>.</p><p>Why there is a difference? A container image can be changed. While a container is immutable, meaning that you can not change it once you create it. If there is a new version
of a container image, the only way to apply those changes to the container is to destroy the old one and start new.</p><p><strong>The container runtime</strong> is the software responsible for running containers. K8s supports any container runtime that implements <a href=https://github.com/kubernetes/community/blob/master/contributors/devel/sig-node/container-runtime-interface.md>Kubernetes CRI (Container Runtime Interface)</a> like Docker, containerd, CRI-O.</p><h2 id=what-is-a-pod>What is a Pod?<a hidden class=anchor aria-hidden=true href=#what-is-a-pod>#</a></h2><p>As already mentioned a Pod is the smallest deployable unit in K8s. It is as well a set of containers. That set can have one or more containers bound by some logic.</p><h2 id=what-a-pod-does>What a Pod does?<a hidden class=anchor aria-hidden=true href=#what-a-pod-does>#</a></h2><p>You can think of a Pod as a single machine, a host. It is not that but you can imagine it like that. A Pod has:</p><ul><li>a unique IP address</li><li>persistent storage volumes(optional, if required)</li><li>configuration, which defines how container(s) should be run</li></ul><p>From K8s point, a Pod is a process running in a cluster. That process has a unique IP address so other processes(Pods) can communicate with it. On the other hand containers in a Pod share the same IP address. This means if they want to communicate with outside they are using unique ports. So, no two containers are on the same port.</p><p>Inter container communication in the same Pod goes over <strong>localhost</strong>. If there is attached persistent storage volume that can be used as a means of communication as well.</p><h2 id=basic-operations-with-a-pod>Basic operations with a Pod<a hidden class=anchor aria-hidden=true href=#basic-operations-with-a-pod>#</a></h2><p>I&rsquo;m running these examples on the local cluster based on <a href=https://k3d.io>the k3d</a>. If you do not have access to other K8s clusters where you can execute these examples, go to my <a href=../../k3d>quick intro to k3d</a>.</p><h3 id=basic-pod-configuration>Basic Pod configuration<a hidden class=anchor aria-hidden=true href=#basic-pod-configuration>#</a></h3><p>Let&rsquo;s start by running:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl run nginx-ser --image nginx --restart<span style=color:#f92672>=</span>Never --dry-run<span style=color:#f92672>=</span>client -o yaml
</span></span></code></pre></div><p>With this <em>kubectl</em> command you say that you want the Pod named <code>nginx-ser</code> made from <code>nginx</code> image(in this case, default, it is Docker image). Other flags <code>--dry-run</code> prevents its deployment, and <code>-o</code> specify output to be YAML format. The result should be something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>run</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>image</span>: <span style=color:#ae81ff>nginx</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>resources</span>: {}
</span></span><span style=display:flex><span>  <span style=color:#f92672>dnsPolicy</span>: <span style=color:#ae81ff>ClusterFirst</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>restartPolicy</span>: <span style=color:#ae81ff>Always</span>
</span></span><span style=display:flex><span><span style=color:#f92672>status</span>: {}
</span></span></code></pre></div><p>Lets dump this into file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl run nginx-ser --image nginx --restart<span style=color:#f92672>=</span>Never --dry-run<span style=color:#f92672>=</span>client -o yaml &gt; pod.yaml
</span></span></code></pre></div><p>Open this file <code>pod.yaml</code> any editor you like and remove unneeded lines so it looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>run</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>image</span>: <span style=color:#ae81ff>nginx</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nginx-ser</span>
</span></span></code></pre></div><p>To create a Pod run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl apply -f pod.yaml
</span></span></code></pre></div><p>If you look inside <code>pod.yaml</code> file you&rsquo;ll see a basic Pod configuration:</p><ul><li><code>apiVersion</code>: tells which version of K8s API to use</li><li><code>kind</code>: what K8s resource to operate with</li><li><code>metadata</code>: these are <code>labels</code> and <code>annotations</code>. You use them to organize your Pods</li><li><code>spec</code>: a Pod configuration specification where <code>containers</code> is defined</li></ul><p>Under <code>spec.containers</code> you put an array of container definitions. Each container definition should have at least <code>name</code>. The <code>image</code> property is not required
as it can be defaulted or managed by higher config management. In my case, I&rsquo;m using Docker runtime so it is a docker image. This docker image is pulled from
<a href=https://hub.docker.com/>Docker Hub</a>.</p><h3 id=inspect-a-pod>Inspect a Pod<a hidden class=anchor aria-hidden=true href=#inspect-a-pod>#</a></h3><p>You can check the status of a Pod:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get pods
</span></span><span style=display:flex><span>NAME        READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>nginx-ser   1/1     Running   <span style=color:#ae81ff>0</span>          14m
</span></span></code></pre></div><p>Here you see a Pod:</p><ul><li>name</li><li>ready status: is pod healthy and if it is ready to receive status</li><li>status</li><li>number of restarts</li><li>age</li></ul><p>You can get more information if you add the option <code>-o wide</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get pods -o wide
</span></span><span style=display:flex><span>NAME        READY   STATUS    RESTARTS   AGE    IP           NODE                           NOMINATED NODE   READINESS GATES
</span></span><span style=display:flex><span>nginx-ser   1/1     Running   <span style=color:#ae81ff>0</span>          6h4m   10.42.0.22   k3d-private-cluster-server-0   &lt;none&gt;           &lt;none&gt;
</span></span></code></pre></div><p>In this example, you see internal IP, IP number inside a cluster, and <code>a node</code> name where Pod is scheduled.</p><p>You get a YAML definition of a Pod if you do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get pods -o yaml
</span></span></code></pre></div><p>This could be quite verbose so redirect it some file and open it in an editor. Specifying output option <code>-o</code> you can set the format of output,
where most interesting and used are <code>wide</code>, <code>yaml</code> and <code>json</code>.</p><p>A good way to see a Pod is to describe it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl describe pods nginx-ser
</span></span><span style=display:flex><span>Name:         nginx-ser
</span></span><span style=display:flex><span>Namespace:    default
</span></span><span style=display:flex><span>Priority:     <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>Node:         k3d-private-cluster-server-0/172.19.0.2
</span></span><span style=display:flex><span>Start Time:   Sun, <span style=color:#ae81ff>21</span> Mar <span style=color:#ae81ff>2021</span> 12:42:17 +0100
</span></span><span style=display:flex><span>Labels:       run<span style=color:#f92672>=</span>nginx-ser
</span></span><span style=display:flex><span>Annotations:  &lt;none&gt;
</span></span><span style=display:flex><span>Status:       Running
</span></span><span style=display:flex><span>IP:           10.42.0.22
</span></span><span style=display:flex><span>IPs:
</span></span><span style=display:flex><span>  IP:  10.42.0.22
</span></span><span style=display:flex><span>Containers:
</span></span><span style=display:flex><span>  nginx-ser:
</span></span><span style=display:flex><span>    Container ID:   containerd://34b8f75b1f3b3ad891791198409cf25412e6bbc18468a2706aa441ee9001a41c
</span></span><span style=display:flex><span>    Image:          nginx
</span></span><span style=display:flex><span>    Image ID:       docker.io/library/nginx@sha256:d2925188effb4ddca9f14f162d6fba9b5fab232028aa07ae5c1dab764dca8f9f
</span></span><span style=display:flex><span>    Port:           &lt;none&gt;
</span></span><span style=display:flex><span>    Host Port:      &lt;none&gt;
</span></span><span style=display:flex><span>    State:          Running
</span></span><span style=display:flex><span>      Started:      Sun, <span style=color:#ae81ff>21</span> Mar <span style=color:#ae81ff>2021</span> 12:42:19 +0100
</span></span><span style=display:flex><span>    Ready:          True
</span></span><span style=display:flex><span>    Restart Count:  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    Environment:    &lt;none&gt;
</span></span><span style=display:flex><span>    Mounts:
</span></span><span style=display:flex><span>      /var/run/secrets/kubernetes.io/serviceaccount from default-token-j6lht <span style=color:#f92672>(</span>ro<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Conditions:
</span></span><span style=display:flex><span>  Type              Status
</span></span><span style=display:flex><span>  Initialized       True
</span></span><span style=display:flex><span>  Ready             True
</span></span><span style=display:flex><span>  ContainersReady   True
</span></span><span style=display:flex><span>  PodScheduled      True
</span></span><span style=display:flex><span>Volumes:
</span></span><span style=display:flex><span>  default-token-j6lht:
</span></span><span style=display:flex><span>    Type:        Secret <span style=color:#f92672>(</span>a volume populated by a Secret<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    SecretName:  default-token-j6lht
</span></span><span style=display:flex><span>    Optional:    false
</span></span><span style=display:flex><span>QoS Class:       BestEffort
</span></span><span style=display:flex><span>Node-Selectors:  &lt;none&gt;
</span></span><span style=display:flex><span>Tolerations:     node.kubernetes.io/not-ready:NoExecute op<span style=color:#f92672>=</span>Exists <span style=color:#66d9ef>for</span> 300s
</span></span><span style=display:flex><span>                 node.kubernetes.io/unreachable:NoExecute op<span style=color:#f92672>=</span>Exists <span style=color:#66d9ef>for</span> 300s
</span></span><span style=display:flex><span>Events:          &lt;none&gt;
</span></span></code></pre></div><p>You can check container logs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs nginx-ser
</span></span></code></pre></div><h3 id=modifying-a-pod>Modifying a Pod<a hidden class=anchor aria-hidden=true href=#modifying-a-pod>#</a></h3><p>To modify a Pod you need to modify its specification. Either you get a Pod as YAML file and modify it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl get pod nginx-ser &gt; nginx-ser.yaml
</span></span></code></pre></div><p>Then open file <code>nginx-ser.yaml</code> and modify it. Then apply it again:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl apply -f nginx-ser.yaml
</span></span></code></pre></div><p>Or edit it directly inside K8s:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl edit pods nginx-ser
</span></span></code></pre></div><p>This will open Pod&rsquo;s YAML configuration inside the vi editor. Once you save your modifications and exit the editor your changes will be applied.</p><h3 id=delete-a-pod>Delete a Pod<a hidden class=anchor aria-hidden=true href=#delete-a-pod>#</a></h3><p>Just do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl delete pod nginx-ser
</span></span></code></pre></div><h2 id=hands-on>Hands-On<a hidden class=anchor aria-hidden=true href=#hands-on>#</a></h2><p>Let&rsquo;s try to access to running nginx server on deployed Pod. At the moment this Pos is not visible outside. That means you can access it only inside a K8s
cluster. One way is to run temporary with curl command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl run curl --image curlimages/curl --restart<span style=color:#f92672>=</span>Never  -it --rm -- curl http://&lt;target ip&gt;
</span></span><span style=display:flex><span>&lt;!DOCTYPE html&gt;
</span></span><span style=display:flex><span>&lt;html&gt;
</span></span><span style=display:flex><span>&lt;head&gt;
</span></span><span style=display:flex><span>&lt;title&gt;Welcome to nginx!&lt;/title&gt;
</span></span><span style=display:flex><span>&lt;style&gt;
</span></span><span style=display:flex><span>    body <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        width: 35em;
</span></span><span style=display:flex><span>        margin: <span style=color:#ae81ff>0</span> auto;
</span></span><span style=display:flex><span>        font-family: Tahoma, Verdana, Arial, sans-serif;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>&lt;/style&gt;
</span></span><span style=display:flex><span>&lt;/head&gt;
</span></span><span style=display:flex><span>&lt;body&gt;
</span></span><span style=display:flex><span>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
</span></span><span style=display:flex><span>&lt;p&gt;If you see this page, the nginx web server is successfully installed and
</span></span><span style=display:flex><span>working. Further configuration is required.&lt;/p&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;p&gt;For online documentation and support please refer to
</span></span><span style=display:flex><span>&lt;a href<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://nginx.org/&#34;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span></span><span style=display:flex><span>Commercial support is available at
</span></span><span style=display:flex><span>&lt;a href<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://nginx.com/&#34;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;p&gt;&lt;em&gt;Thank you <span style=color:#66d9ef>for</span> using nginx.&lt;/em&gt;&lt;/p&gt;
</span></span><span style=display:flex><span>&lt;/body&gt;
</span></span><span style=display:flex><span>&lt;/html&gt;
</span></span><span style=display:flex><span>pod <span style=color:#e6db74>&#34;curl&#34;</span> deleted
</span></span></code></pre></div><p>Above <code>kubectl</code> command uses <code>curlimages/curl</code> Docker image to create a Pod named <code>curl</code>. It creates an interactive terminal with <code>-it</code> so it writes output to your
terminal. Delete this Pod after execution with <code>--rm</code>. Executes a command <code>curl &lt;target ip></code>.</p><p>❓ Do you remember how to get the target pod internal IP?</p><p>Now try to run pod named <code>httpd</code> with image <code>httpd</code>. Check what is assigned IP and try to curl it. If are successful you should get:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;&lt;<span style=color:#f92672>body</span>&gt;&lt;<span style=color:#f92672>h1</span>&gt;It works!&lt;/<span style=color:#f92672>h1</span>&gt;&lt;/<span style=color:#f92672>body</span>&gt;&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><div class=subscribe><p>Thank you for reading my blog!</p><p>If you have any questions let me know.</p><p>Sign up for my <a href=https://tinyletter.com/rnemet>email newsletter</a> or use this <a href=/index.xml>RSS feed</a> to get notified of new blog posts.</p></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://rnemet.dev/tags/k8s/>k8s</a></li><li><a href=https://rnemet.dev/tags/kubernetes/>kubernetes</a></li><li><a href=https://rnemet.dev/tags/k8s-basics/>k8s-basics</a></li><li><a href=https://rnemet.dev/tags/pod/>pod</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Pod on twitter" href="https://twitter.com/intent/tweet/?text=Pod&url=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f&hashtags=k8s%2ckubernetes%2ck8s-basics%2cpod"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Pod on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f&title=Pod&summary=Pod&source=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Pod on reddit" href="https://reddit.com/submit?url=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f&title=Pod"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Pod on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Pod on whatsapp" href="https://api.whatsapp.com/send?text=Pod%20-%20https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Pod on telegram" href="https://telegram.me/share/url?text=Pod&url=https%3a%2f%2frnemet.dev%2fposts%2fk8s%2fpod%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://rnemet.dev/>DevCube</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>