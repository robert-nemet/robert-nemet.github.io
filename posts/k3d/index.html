<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kubernetes in the bottle: k3d and k3s | DevCube</title><meta name=keywords content="k8s,k3s,k3d,kubernetes,local-k8s"><meta name=description content="Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with. But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.
What is k3s The K3s is lightweight k8s by the rancher for Linux. K3s is intended to work with low resources and IoT devices."><meta name=author content="Robert Nemet"><link rel=canonical href=https://rnemet.dev/posts/k3d/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rnemet.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rnemet.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rnemet.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://rnemet.dev/apple-touch-icon.png><link rel=mask-icon href=https://rnemet.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-L148RQBR36"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L148RQBR36",{anonymize_ip:!1})}</script><meta property="og:title" content="Kubernetes in the bottle: k3d and k3s"><meta property="og:description" content="Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with. But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.
What is k3s The K3s is lightweight k8s by the rancher for Linux. K3s is intended to work with low resources and IoT devices."><meta property="og:type" content="article"><meta property="og:url" content="https://rnemet.dev/posts/k3d/"><meta property="og:image" content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-11T22:40:14+01:00"><meta property="article:modified_time" content="2021-03-11T22:40:14+01:00"><meta property="og:site_name" content="DevCube"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rnemet.dev/%3Cimage%20path/url%3E"><meta name=twitter:title content="Kubernetes in the bottle: k3d and k3s"><meta name=twitter:description content="Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with. But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.
What is k3s The K3s is lightweight k8s by the rancher for Linux. K3s is intended to work with low resources and IoT devices."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rnemet.dev/posts/"},{"@type":"ListItem","position":2,"name":"Kubernetes in the bottle: k3d and k3s","item":"https://rnemet.dev/posts/k3d/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes in the bottle: k3d and k3s","name":"Kubernetes in the bottle: k3d and k3s","description":"Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with. But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.\nWhat is k3s The K3s is lightweight k8s by the rancher for Linux. K3s is intended to work with low resources and IoT devices.","keywords":["k8s","k3s","k3d","kubernetes","local-k8s"],"articleBody":"Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with. But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.\nWhat is k3s The K3s is lightweight k8s by the rancher for Linux. K3s is intended to work with low resources and IoT devices. So, it can easily run on laptops. It is packed as a single binary so it is easy to setup. It requires to have installed docker, as nodes will be run inside containers.\nWhat is k3d The k3d is a wrapper around k3s as well made by the rancher. It intends to ease installation by detecting running OS, downloading binaries, and setting up the default configuration for the target OS.\nInstallation and usage To install k3d and start a local cluster is rather easy. For example, if you are running Linux or OSX you could install it by using the brew:\n\u003e brew install k3d When done you can do:\n\u003e k3d Usage: k3d [flags] k3d [command] Available Commands: cluster Manage cluster(s) completion Generate completion scripts for [bash, zsh, fish, powershell | psh] config Work with config file(s) help Help about any command image Handle container images. kubeconfig Manage kubeconfig(s) node Manage node(s) registry Manage registry/registries version Show k3d and default k3s version Flags: -h, --help help for k3d --timestamps Enable Log timestamps --trace Enable super verbose output (trace logging) --verbose Enable verbose output (debug logging) --version Show k3d and default k3s version Use \"k3d [command] --help\" for more information about a command. If you do not have installed brew you can check other installation options on the k3d site.\nCreate cluster Assuming you already have installed the docker and the kubectl you can init new cluster:\n\u003e k3d cluster create private-cluster INFO[0000] Prep: Network INFO[0000] Created network 'k3d-private-cluster' INFO[0000] Created volume 'k3d-private-cluster-images' INFO[0001] Creating node 'k3d-private-cluster-server-0' INFO[0002] Creating LoadBalancer 'k3d-private-cluster-serverlb' INFO[0002] Starting cluster 'private-cluster' INFO[0002] Starting servers... INFO[0002] Starting Node 'k3d-private-cluster-server-0' INFO[0014] Starting agents... INFO[0014] Starting helpers... INFO[0014] Starting Node 'k3d-private-cluster-serverlb' INFO[0016] (Optional) Trying to get IP of the docker host and inject it into the cluster as 'host.k3d.internal' for easy access INFO[0020] Successfully added host record to /etc/hosts in 2/2 nodes and to the CoreDNS ConfigMap INFO[0020] Cluster 'private-cluster' created successfully! INFO[0020] --kubeconfig-update-default=false --\u003e sets --kubeconfig-switch-context=false INFO[0020] You can now use it like this: kubectl config use-context k3d-private-cluster kubectl cluster-info You can check some info for the local cluster:\n\u003e kubectl cluster-info Kubernetes control plane is running at https://0.0.0.0:49996 CoreDNS is running at https://0.0.0.0:49996/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy Metrics-server is running at https://0.0.0.0:49996/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'. Or get all nodes:\n\u003e ❯ kubectl get nodes NAME STATUS ROLES AGE VERSION k3d-private-cluster-server-0 Ready master 2m28s v1.18.16+k3s1 Get all running pods:\n❯ kubectl get pod --all-namespaces NAMESPACE NAME READY STATUS RESTARTS AGE kube-system local-path-provisioner-6d59f47c7-8j4z6 1/1 Running 0 2m29s kube-system metrics-server-7566d596c8-jwtxr 1/1 Running 0 2m29s kube-system helm-install-traefik-5lbnw 0/1 Completed 0 2m30s kube-system svclb-traefik-d2cvn 2/2 Running 0 2m4s kube-system coredns-7944c66d8d-7b5rc 1/1 Running 0 2m29s kube-system traefik-758cd5fc85-df4mq 1/1 Running 0 2m4s Deploy a Pod Let start the Apache server in local cluster:\n\u003e kubectl run test --image=httpd \\ --port=80 \\ --replicas=3 \\ --restart='Always' \\ --expose \\ --requests='cpu=100m,memory=256Mi' \\ --limits='cpu=200m,memory=512Mi' \\ --labels=app=apache,version=1 Flag --replicas has been deprecated, has no effect and will be removed in the future. service/test created pod/test created Check pod and services:\n❯ kubectl get pod NAME READY STATUS RESTARTS AGE test 1/1 Running 0 94s ❯ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.43.0.1 443/TCP 6m55s test ClusterIP 10.43.98.145 80/TCP 101s The local cluster in addition to default services and pods has running httpd service and attached service all named test.\nThe basic work with a cluster You can stop the cluster when done with it, so it does not eat not needed resource:\n❯ k3d cluster stop private-cluster INFO[0000] Stopping cluster 'private-cluster' List all clusters managed by k3s:\n❯ k3d cluster list NAME SERVERS AGENTS LOADBALANCER private-cluster 0/1 0/0 true Start it again:\n❯ k3d cluster start private-cluster INFO[0000] Starting cluster 'private-cluster' INFO[0000] Starting servers... INFO[0000] Starting Node 'k3d-private-cluster-server-0' INFO[0005] Starting agents... INFO[0005] Starting helpers... INFO[0005] Starting Node 'k3d-private-cluster-serverlb' Check all:\n❯ kubectl get all --all-namespaces NAMESPACE NAME READY STATUS RESTARTS AGE kube-system pod/helm-install-traefik-5lbnw 0/1 Completed 0 17m kube-system pod/local-path-provisioner-6d59f47c7-8j4z6 1/1 Running 1 17m kube-system pod/metrics-server-7566d596c8-jwtxr 1/1 Running 1 17m kube-system pod/svclb-traefik-d2cvn 2/2 Running 2 17m default pod/test 1/1 Running 1 12m kube-system pod/coredns-7944c66d8d-7b5rc 1/1 Running 1 17m kube-system pod/traefik-758cd5fc85-df4mq 1/1 Running 1 17m NAMESPACE NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE default service/kubernetes ClusterIP 10.43.0.1 443/TCP 17m kube-system service/kube-dns ClusterIP 10.43.0.10 53/UDP,53/TCP,9153/TCP 17m kube-system service/metrics-server ClusterIP 10.43.133.151 443/TCP 17m kube-system service/traefik-prometheus ClusterIP 10.43.5.75 9100/TCP 17m kube-system service/traefik LoadBalancer 10.43.44.46 172.19.0.2 80:31193/TCP,443:30794/TCP 17m default service/test ClusterIP 10.43.98.145 80/TCP 12m NAMESPACE NAME DESIRED CURRENT READY UP-TO-DATE AVAILABLE NODE SELECTOR AGE kube-system daemonset.apps/svclb-traefik 1 1 1 1 1 17m NAMESPACE NAME READY UP-TO-DATE AVAILABLE AGE kube-system deployment.apps/local-path-provisioner 1/1 1 1 17m kube-system deployment.apps/metrics-server 1/1 1 1 17m kube-system deployment.apps/coredns 1/1 1 1 17m kube-system deployment.apps/traefik 1/1 1 1 17m NAMESPACE NAME DESIRED CURRENT READY AGE kube-system replicaset.apps/local-path-provisioner-6d59f47c7 1 1 1 17m kube-system replicaset.apps/metrics-server-7566d596c8 1 1 1 17m kube-system replicaset.apps/coredns-7944c66d8d 1 1 1 17m kube-system replicaset.apps/traefik-758cd5fc85 1 1 1 17m NAMESPACE NAME COMPLETIONS DURATION AGE kube-system job.batch/helm-install-traefik 1/1 26s 17m Notice in the namespace named default there is a pod test and service test. This means our deployed httpd server is online.\nConclusion Without going into details and reading long manuals you can get a fully functional K8s cluster to learn and develop. It is easy to operate so you can focus on learning to use K8s.\n","wordCount":"961","inLanguage":"en","image":"https://rnemet.dev/%3Cimage%20path/url%3E","datePublished":"2021-03-11T22:40:14+01:00","dateModified":"2021-03-11T22:40:14+01:00","author":{"@type":"Person","name":"Robert Nemet"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rnemet.dev/posts/k3d/"},"publisher":{"@type":"Organization","name":"DevCube","logo":{"@type":"ImageObject","url":"https://rnemet.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rnemet.dev/ accesskey=h title="Home (Alt + H)"><img src=https://rnemet.dev/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rnemet.dev/posts/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://rnemet.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://rnemet.dev/posts/practical_k8s/ title="Practical k8s"><span>Practical k8s</span></a></li><li><a href=https://rnemet.dev/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rnemet.dev/about/ title="About Me"><span>About Me</span></a></li><li><a href=https://rnemet.dev/ title><span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Kubernetes in the bottle: k3d and k3s</h1><div class=post-description></div><div class=post-meta><span title='2021-03-11 22:40:14 +0100 CET'>March 11, 2021</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Robert Nemet</div></header><figure class=entry-cover><img loading=lazy src=https://rnemet.dev/%3Cimage%20path/url%3E alt><p></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-is-k3shttpsk3sio aria-label="What is k3s">What is <a href=https://k3s.io/>k3s</a></a></li><li><a href=#what-is-k3dhttpsk3dio aria-label="What is k3d">What is <a href=https://k3d.io/>k3d</a></a></li><li><a href=#installation-and-usage aria-label="Installation and usage">Installation and usage</a><ul><li><a href=#create-cluster aria-label="Create cluster">Create cluster</a></li><li><a href=#deploy-a-pod aria-label="Deploy a Pod">Deploy a Pod</a></li><li><a href=#the-basic-work-with-a-cluster aria-label="The basic work with a cluster">The basic work with a cluster</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>Everyone wants to play with the Kubernetes(K8s). There are many options from Google, AWS, Heroku, etc. They offer free tiers that anyone can play with.
But what if you want to have your K8s. On your laptop, for fun or to learn something new, without any restrictions.</p><h2 id=what-is-k3shttpsk3sio>What is <a href=https://k3s.io/>k3s</a><a hidden class=anchor aria-hidden=true href=#what-is-k3shttpsk3sio>#</a></h2><p>The K3s is lightweight k8s by <a href=https://rancher.com/>the rancher</a> for Linux. K3s is intended to work with low resources and IoT devices.
So, it can easily run on laptops. It is packed as a single binary so it is easy to setup. It requires to have installed docker, as nodes will be run inside containers.</p><h2 id=what-is-k3dhttpsk3dio>What is <a href=https://k3d.io/>k3d</a><a hidden class=anchor aria-hidden=true href=#what-is-k3dhttpsk3dio>#</a></h2><p>The k3d is a wrapper around k3s as well made by <a href=https://rancher.com/>the rancher</a>. It intends to ease installation by detecting running OS, downloading binaries, and setting up the default configuration for the target OS.</p><h2 id=installation-and-usage>Installation and usage<a hidden class=anchor aria-hidden=true href=#installation-and-usage>#</a></h2><p>To install k3d and start a local cluster is rather easy. For example, if you are running Linux or OSX you could install it by using <a href=https://brew.sh/>the brew</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; brew install k3d
</span></span></code></pre></div><p>When done you can do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; k3d
</span></span><span style=display:flex><span>Usage:
</span></span><span style=display:flex><span>  k3d <span style=color:#f92672>[</span>flags<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>  k3d <span style=color:#f92672>[</span>command<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Available Commands:
</span></span><span style=display:flex><span>  cluster     Manage cluster<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  completion  Generate completion scripts <span style=color:#66d9ef>for</span> <span style=color:#f92672>[</span>bash, zsh, fish, powershell | psh<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>  config      Work with config file<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  help        Help about any command
</span></span><span style=display:flex><span>  image       Handle container images.
</span></span><span style=display:flex><span>  kubeconfig  Manage kubeconfig<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  node        Manage node<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  registry    Manage registry/registries
</span></span><span style=display:flex><span>  version     Show k3d and default k3s version
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Flags:
</span></span><span style=display:flex><span>  -h, --help         help <span style=color:#66d9ef>for</span> k3d
</span></span><span style=display:flex><span>      --timestamps   Enable Log timestamps
</span></span><span style=display:flex><span>      --trace        Enable super verbose output <span style=color:#f92672>(</span>trace logging<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      --verbose      Enable verbose output <span style=color:#f92672>(</span>debug logging<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      --version      Show k3d and default k3s version
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Use <span style=color:#e6db74>&#34;k3d [command] --help&#34;</span> <span style=color:#66d9ef>for</span> more information about a command.
</span></span></code></pre></div><p>If you do not have installed brew you can check other installation options on <a href=https://k3d.io/#installation>the k3d site</a>.</p><h3 id=create-cluster>Create cluster<a hidden class=anchor aria-hidden=true href=#create-cluster>#</a></h3><p>Assuming you already have <a href=https://docs.docker.com/get-docker/>installed the docker</a> and <a href=https://kubernetes.io/docs/tasks/tools/#kubectl>the kubectl</a> you can init new cluster:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; k3d cluster create private-cluster
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Prep: Network
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Created network <span style=color:#e6db74>&#39;k3d-private-cluster&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Created volume <span style=color:#e6db74>&#39;k3d-private-cluster-images&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0001<span style=color:#f92672>]</span> Creating node <span style=color:#e6db74>&#39;k3d-private-cluster-server-0&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0002<span style=color:#f92672>]</span> Creating LoadBalancer <span style=color:#e6db74>&#39;k3d-private-cluster-serverlb&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0002<span style=color:#f92672>]</span> Starting cluster <span style=color:#e6db74>&#39;private-cluster&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0002<span style=color:#f92672>]</span> Starting servers...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0002<span style=color:#f92672>]</span> Starting Node <span style=color:#e6db74>&#39;k3d-private-cluster-server-0&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0014<span style=color:#f92672>]</span> Starting agents...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0014<span style=color:#f92672>]</span> Starting helpers...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0014<span style=color:#f92672>]</span> Starting Node <span style=color:#e6db74>&#39;k3d-private-cluster-serverlb&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0016<span style=color:#f92672>]</span> <span style=color:#f92672>(</span>Optional<span style=color:#f92672>)</span> Trying to get IP of the docker host and inject it into the cluster as <span style=color:#e6db74>&#39;host.k3d.internal&#39;</span> <span style=color:#66d9ef>for</span> easy access
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0020<span style=color:#f92672>]</span> Successfully added host record to /etc/hosts in 2/2 nodes and to the CoreDNS ConfigMap
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0020<span style=color:#f92672>]</span> Cluster <span style=color:#e6db74>&#39;private-cluster&#39;</span> created successfully!
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0020<span style=color:#f92672>]</span> --kubeconfig-update-default<span style=color:#f92672>=</span>false --&gt; sets --kubeconfig-switch-context<span style=color:#f92672>=</span>false
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0020<span style=color:#f92672>]</span> You can now use it like this:
</span></span><span style=display:flex><span>kubectl config use-context k3d-private-cluster
</span></span><span style=display:flex><span>kubectl cluster-info
</span></span></code></pre></div><p>You can check some info for the local cluster:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl cluster-info
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Kubernetes control plane is running at https://0.0.0.0:49996
</span></span><span style=display:flex><span>CoreDNS is running at https://0.0.0.0:49996/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span><span style=display:flex><span>Metrics-server is running at https://0.0.0.0:49996/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>To further debug and diagnose cluster problems, use <span style=color:#e6db74>&#39;kubectl cluster-info dump&#39;</span>.
</span></span></code></pre></div><p>Or get all nodes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; ❯ kubectl get nodes
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME                           STATUS   ROLES    AGE     VERSION
</span></span><span style=display:flex><span>k3d-private-cluster-server-0   Ready    master   2m28s   v1.18.16+k3s1
</span></span></code></pre></div><p>Get all running pods:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get pod --all-namespaces
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                                     READY   STATUS      RESTARTS   AGE
</span></span><span style=display:flex><span>kube-system   local-path-provisioner-6d59f47c7-8j4z6   1/1     Running     <span style=color:#ae81ff>0</span>          2m29s
</span></span><span style=display:flex><span>kube-system   metrics-server-7566d596c8-jwtxr          1/1     Running     <span style=color:#ae81ff>0</span>          2m29s
</span></span><span style=display:flex><span>kube-system   helm-install-traefik-5lbnw               0/1     Completed   <span style=color:#ae81ff>0</span>          2m30s
</span></span><span style=display:flex><span>kube-system   svclb-traefik-d2cvn                      2/2     Running     <span style=color:#ae81ff>0</span>          2m4s
</span></span><span style=display:flex><span>kube-system   coredns-7944c66d8d-7b5rc                 1/1     Running     <span style=color:#ae81ff>0</span>          2m29s
</span></span><span style=display:flex><span>kube-system   traefik-758cd5fc85-df4mq                 1/1     Running     <span style=color:#ae81ff>0</span>          2m4s
</span></span></code></pre></div><h3 id=deploy-a-pod>Deploy a Pod<a hidden class=anchor aria-hidden=true href=#deploy-a-pod>#</a></h3><p>Let start the Apache server in local cluster:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl run test --image<span style=color:#f92672>=</span>httpd <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--port<span style=color:#f92672>=</span><span style=color:#ae81ff>80</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--replicas<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--restart<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Always&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--expose <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--requests<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;cpu=100m,memory=256Mi&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--limits<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;cpu=200m,memory=512Mi&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--labels<span style=color:#f92672>=</span>app<span style=color:#f92672>=</span>apache,version<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Flag --replicas has been deprecated, has no effect and will be removed in the future.
</span></span><span style=display:flex><span>service/test created
</span></span><span style=display:flex><span>pod/test created
</span></span></code></pre></div><p>Check pod and services:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get pod
</span></span><span style=display:flex><span>NAME   READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>test   1/1     Running   <span style=color:#ae81ff>0</span>          94s
</span></span><span style=display:flex><span>❯ kubectl get svc
</span></span><span style=display:flex><span>NAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>   AGE
</span></span><span style=display:flex><span>kubernetes   ClusterIP   10.43.0.1      &lt;none&gt;        443/TCP   6m55s
</span></span><span style=display:flex><span>test         ClusterIP   10.43.98.145   &lt;none&gt;        80/TCP    101s
</span></span></code></pre></div><p>The local cluster in addition to default services and pods has running httpd service and attached service all named <em>test</em>.</p><h3 id=the-basic-work-with-a-cluster>The basic work with a cluster<a hidden class=anchor aria-hidden=true href=#the-basic-work-with-a-cluster>#</a></h3><p>You can stop the cluster when done with it, so it does not eat not needed resource:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ k3d cluster stop private-cluster
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Stopping cluster <span style=color:#e6db74>&#39;private-cluster&#39;</span>
</span></span></code></pre></div><p>List all clusters managed by k3s:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ k3d cluster list
</span></span><span style=display:flex><span>NAME              SERVERS   AGENTS   LOADBALANCER
</span></span><span style=display:flex><span>private-cluster   0/1       0/0      true
</span></span></code></pre></div><p>Start it again:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ k3d cluster start private-cluster
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Starting cluster <span style=color:#e6db74>&#39;private-cluster&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Starting servers...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0000<span style=color:#f92672>]</span> Starting Node <span style=color:#e6db74>&#39;k3d-private-cluster-server-0&#39;</span>
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0005<span style=color:#f92672>]</span> Starting agents...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0005<span style=color:#f92672>]</span> Starting helpers...
</span></span><span style=display:flex><span>INFO<span style=color:#f92672>[</span>0005<span style=color:#f92672>]</span> Starting Node <span style=color:#e6db74>&#39;k3d-private-cluster-serverlb&#39;</span>
</span></span></code></pre></div><p>Check all:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ kubectl get all --all-namespaces
</span></span><span style=display:flex><span>NAMESPACE     NAME                                         READY   STATUS      RESTARTS   AGE
</span></span><span style=display:flex><span>kube-system   pod/helm-install-traefik-5lbnw               0/1     Completed   <span style=color:#ae81ff>0</span>          17m
</span></span><span style=display:flex><span>kube-system   pod/local-path-provisioner-6d59f47c7-8j4z6   1/1     Running     <span style=color:#ae81ff>1</span>          17m
</span></span><span style=display:flex><span>kube-system   pod/metrics-server-7566d596c8-jwtxr          1/1     Running     <span style=color:#ae81ff>1</span>          17m
</span></span><span style=display:flex><span>kube-system   pod/svclb-traefik-d2cvn                      2/2     Running     <span style=color:#ae81ff>2</span>          17m
</span></span><span style=display:flex><span>default       pod/test                                     1/1     Running     <span style=color:#ae81ff>1</span>          12m
</span></span><span style=display:flex><span>kube-system   pod/coredns-7944c66d8d-7b5rc                 1/1     Running     <span style=color:#ae81ff>1</span>          17m
</span></span><span style=display:flex><span>kube-system   pod/traefik-758cd5fc85-df4mq                 1/1     Running     <span style=color:#ae81ff>1</span>          17m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>                      AGE
</span></span><span style=display:flex><span>default       service/kubernetes           ClusterIP      10.43.0.1       &lt;none&gt;        443/TCP                      17m
</span></span><span style=display:flex><span>kube-system   service/kube-dns             ClusterIP      10.43.0.10      &lt;none&gt;        53/UDP,53/TCP,9153/TCP       17m
</span></span><span style=display:flex><span>kube-system   service/metrics-server       ClusterIP      10.43.133.151   &lt;none&gt;        443/TCP                      17m
</span></span><span style=display:flex><span>kube-system   service/traefik-prometheus   ClusterIP      10.43.5.75      &lt;none&gt;        9100/TCP                     17m
</span></span><span style=display:flex><span>kube-system   service/traefik              LoadBalancer   10.43.44.46     172.19.0.2    80:31193/TCP,443:30794/TCP   17m
</span></span><span style=display:flex><span>default       service/test                 ClusterIP      10.43.98.145    &lt;none&gt;        80/TCP                       12m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                           DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE
</span></span><span style=display:flex><span>kube-system   daemonset.apps/svclb-traefik   <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>       <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           &lt;none&gt;          17m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                                     READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style=display:flex><span>kube-system   deployment.apps/local-path-provisioner   1/1     <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           17m
</span></span><span style=display:flex><span>kube-system   deployment.apps/metrics-server           1/1     <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           17m
</span></span><span style=display:flex><span>kube-system   deployment.apps/coredns                  1/1     <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           17m
</span></span><span style=display:flex><span>kube-system   deployment.apps/traefik                  1/1     <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           17m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                                               DESIRED   CURRENT   READY   AGE
</span></span><span style=display:flex><span>kube-system   replicaset.apps/local-path-provisioner-6d59f47c7   <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>       17m
</span></span><span style=display:flex><span>kube-system   replicaset.apps/metrics-server-7566d596c8          <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>       17m
</span></span><span style=display:flex><span>kube-system   replicaset.apps/coredns-7944c66d8d                 <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>       17m
</span></span><span style=display:flex><span>kube-system   replicaset.apps/traefik-758cd5fc85                 <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>         <span style=color:#ae81ff>1</span>       17m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE     NAME                             COMPLETIONS   DURATION   AGE
</span></span><span style=display:flex><span>kube-system   job.batch/helm-install-traefik   1/1           26s        17m
</span></span></code></pre></div><p>Notice in the namespace named default there is a pod test and service test. This means our deployed httpd server is online.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Without going into details and reading long manuals you can get a fully functional K8s cluster to learn and develop. It is easy to operate
so you can focus on learning to use K8s.</p><div class=subscribe><iframe src=https://rnemet.substack.com/embed width=480 height=320 style="border:1px solid #eee;background:#fff;margin:auto;display:block" frameborder=0 scrolling=no></iframe></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://rnemet.dev/tags/k8s/>k8s</a></li><li><a href=https://rnemet.dev/tags/k3s/>k3s</a></li><li><a href=https://rnemet.dev/tags/k3d/>k3d</a></li><li><a href=https://rnemet.dev/tags/kubernetes/>kubernetes</a></li><li><a href=https://rnemet.dev/tags/local-k8s/>local-k8s</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on twitter" href="https://twitter.com/intent/tweet/?text=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f&amp;hashtags=k8s%2ck3s%2ck3d%2ckubernetes%2clocal-k8s"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f&amp;title=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s&amp;summary=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s&amp;source=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on reddit" href="https://reddit.com/submit?url=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f&title=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s%20-%20https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes in the bottle: k3d and k3s on telegram" href="https://telegram.me/share/url?text=Kubernetes%20in%20the%20bottle%3a%20k3d%20and%20k3s&amp;url=https%3a%2f%2frnemet.dev%2fposts%2fk3d%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://rnemet.dev/>DevCube</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>